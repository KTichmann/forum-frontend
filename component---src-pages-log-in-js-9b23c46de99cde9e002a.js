(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{143:function(e,t,a){"use strict";a.r(t);var r=a(37),n=a.n(r),s=a(7),o=a.n(s),i=a(0),l=a.n(i),c=a(163),u=a(190),d=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={usernameError:!1,passwordError:!1,usernameErrorMessage:"",passwordErrorMessage:""},a.handleClick=a.handleClick.bind(n()(a)),a}o()(t,e);var a=t.prototype;return a.handleClick=function(e){var t=this;e.preventDefault();var a=document.getElementById("username").value,r=document.getElementById("password").value;if(a?this.setState({usernameError:!1,usernameErrorMessage:""}):this.setState({usernameError:!0,usernameErrorMessage:"Username cannot be empty"}),r?this.setState({passwordError:!1,passwordErrorMessage:""}):this.setState({passwordError:!0,passwordErrorMessage:"Password cannot be empty"}),r&&a){fetch("https://ktichmann-forum-api.herokuapp.com/user/authenticate",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+a+"&password="+r}).then(function(e){return e.json()}).then(function(e){e.success?(window.sessionStorage.setItem("token",e.token),window.sessionStorage.setItem("for-mUsername",a),window.location.href="/forum-frontend"):t.setState({usernameError:!0,passwordError:!0,usernameErrorMessage:"Username or Password Incorrect"})}).catch(function(e){return console.log(e)})}},a.render=function(){return l.a.createElement(c.a,null,l.a.createElement("h1",null,"Log In"),l.a.createElement(u.a,{usernameError:this.state.usernameError,passwordError:this.state.passwordError,usernameErrorMessage:this.state.usernameErrorMessage,passwordErrorMessage:this.state.passwordErrorMessage,handleClick:this.handleClick,buttonText:"Log In"}))},t}(l.a.Component);t.default=d},157:function(e,t,a){"use strict";a.d(t,"b",function(){return u});var r=a(0),n=a.n(r),s=a(4),o=a.n(s),i=a(32),l=a.n(i);a.d(t,"a",function(){return l.a});a(159);var c=n.a.createContext({}),u=function(e){return n.a.createElement(c.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):n.a.createElement("div",null,"Loading (StaticQuery)")})};u.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},159:function(e,t,a){var r;e.exports=(r=a(162))&&r.default||r},161:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter"}}}}},162:function(e,t,a){"use strict";a.r(t);a(34);var r=a(0),n=a.n(r),s=a(4),o=a.n(s),i=a(55),l=a(2),c=function(e){var t=e.location,a=l.default.getResourcesForPathnameSync(t.pathname);return n.a.createElement(i.a,Object.assign({location:t,pageResources:a},a.json))};c.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=c},163:function(e,t,a){"use strict";var r=a(161),n=a(0),s=a.n(n),o=a(4),i=a.n(o),l=a(157),c=(a(166),function(e){e.siteTitle;return"undefined"!=typeof window&&window.addEventListener("scroll",function(){var e=document.querySelector("header");e&&(0===window.pageYOffset?e.classList.remove("shadow"):e.classList.contains("shadow")||e.classList.add("shadow"))}),s.a.createElement("header",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"left"},s.a.createElement("div",{className:"logo"},s.a.createElement(l.a,{to:"/"},"FOR'M")),s.a.createElement("div",{className:"menu"},s.a.createElement(l.a,{to:"/"},"Home"),s.a.createElement(l.a,{to:"/about"},"About"),s.a.createElement(l.a,{to:"/profile"},"Profile"))),s.a.createElement("div",{className:"menu"},s.a.createElement(l.a,{to:"/sign-up"},"Sign Up"),s.a.createElement(l.a,{to:"/log-in"},"Log In"))))});c.propTypes={siteTitle:i.a.string},c.defaultProps={siteTitle:""};var u=c,d=(a(36),a(167),function(e){var t="https://ktich-chat-app.herokuapp.com/?auth="+e.auth;return s.a.createElement("div",{className:"chat-container",style:{display:e.display?"inline-block":"none"}},s.a.createElement("div",{onClick:e.closeChat,className:"close-button"},"x"),s.a.createElement("iframe",{title:"chatBox",id:"chatBox",src:t}))}),m=(a(168),function(){var e;"undefined"!=typeof window&&(e=window.sessionStorage.getItem("token"));var t=Object(n.useState)(!1),a=t[0],r=t[1];return s.a.createElement("div",null,s.a.createElement("span",{onClick:function(){e?(r(!0),document.getElementById("chatIcon").style.display="none"):window.location.replace("/forum-frontend/log-in")},id:"chatIcon"}),!!e&&s.a.createElement(d,{closeChat:function(){r(!1),document.getElementById("chatIcon").style.display="inline-block"},display:a,auth:e}))}),p=(a(169),function(e){var t=e.children;return s.a.createElement(l.b,{query:"755544856",render:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(u,{siteTitle:e.site.siteMetadata.title}),s.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0px 1.0875rem 1.45rem"}},s.a.createElement("main",{style:{paddingTop:"100px"}},t),s.a.createElement("footer",null,s.a.createElement(m,null))))},data:r})});p.propTypes={children:i.a.node.isRequired};t.a=p},190:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(245),o=a.n(s),i=a(215),l=a.n(i);t.a=function(e){return n.a.createElement("form",null,n.a.createElement("p",null,e.usernameErrorMessage),n.a.createElement(l.a,{style:{display:"block"},id:"username",label:"Username",margin:"normal",variant:"outlined",error:e.usernameError}),n.a.createElement("p",null,e.passwordErrorMessage),n.a.createElement(l.a,{style:{display:"block"},id:"password",label:"Password",type:"password",margin:"normal",variant:"outlined",error:e.passwordError}),n.a.createElement(o.a,{variant:"contained",color:"primary",type:"submit",onClick:function(t){return e.handleClick(t)}},e.buttonText))}}}]);
//# sourceMappingURL=component---src-pages-log-in-js-9b23c46de99cde9e002a.js.map